(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-667884bb"],{"023a":function(e,t,s){"use strict";var r=s("9ab4"),n=s("60a3"),a=s("2fe1"),o=s("8aed"),i=s("631c");let u=class extends(Object(a["c"])(o["a"],i["a"])){rowsGet(e=this.tableName){const{categoryHas:t,nestedProps:s,value:r}=this.$store.state[e];return e&&this.$store.state.dataLoaded.value[this.categoriesActive]&&new this.$Object(t?r[this.categoriesActive]:r).findNested(this.nestedValues.slice(0,s.length)||[])||{}}get dataLoaded(){return Boolean(new this.$Object(this.$store.state.dataLoaded.value[this.categoriesActive]).findNested(this.nestedValues))}get divisionId(){return this.$store.state.divisions.active}get seasonId(){return this.$store.state.leagueSeasons.active}};Object(r["a"])([Object(n["b"])({required:!0,type:Object})],u.prototype,"text",void 0),Object(r["a"])([Object(n["b"])({type:Object})],u.prototype,"unseen",void 0),u=Object(r["a"])([Object(n["a"])({name:"LeagueSectionMixin"})],u),t["a"]=u},"1f5c":function(e,t,s){},"5edf":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("loading-container",{attrs:{condition:e.dataLoaded}},[s("div",{staticClass:"bracket",style:e.bracketStyleGet()},e._l(e.rounds,(function(t,r){return s("div",{key:r,ref:"rounds",refInFor:!0,staticClass:"round"},[s("p",{staticClass:"title",domProps:{innerHTML:e._s(e.text.rounds[e.rounds.length-r-1])}}),s("div",{staticClass:"series-container"},e._l(t,(function(t,r){return s("div",{key:r,ref:"series",refInFor:!0,staticClass:"series",style:{maxWidth:270+30*(2*e.roundsLimit-1)+"px"}},[s("table-container",{attrs:{"table-name":"matches",columns:e.columns,rows:t,"rows-sort-compare-fn":e.rowsSortCompareFn,text:e.text.table}})],1)})),0)])})),0)])],1)},n=[],a=(s("ddb0"),s("5530")),o=s("9ab4"),i=s("60a3"),u=s("2fe1"),c=s("aa99"),d=s("8aed"),l=s("023a");let h=class extends(Object(u["c"])(d["a"],l["a"])){constructor(){super(...arguments),this.tableName="matches"}bracketStyleGet(){const{navVisible:e,windowWidth:t}=this.$store.state,s=257.5*Number(e),r=(()=>t<=920+s?"".concat(100*this.roundsLimit,"%"):t<=1380+s?"".concat(Math.max(100,50*this.roundsLimit),"%"):"100%")();return{width:r}}rowsSortCompareFn([e],[t]){return e-t}get columns(){const e=e=>({required:!1,order:e+3,type:"integer"}),t=Array(2*this.$store.getters.leagueSeason.playOffWinsLimit-1).fill(null).reduce((t,s,r)=>(t["leg".concat(r)]=e(r),t),{});return Object(a["a"])({leagueTablePosition:{order:0,required:!1,type:"integer"}},t,{userId:{order:1,required:!1,type:"id"},winsCount:{order:2,required:!1,type:"integer"}})}get nestedValues(){return this.$store.state.leagueTableRecords.nestedProps.map(e=>this[e])}get rounds(){const{state:e}=this.$store,t=Object.entries(e.matches.value[this.categoriesActive]||{}).filter(([,e])=>e.typeId===this.typeId&&e.seasonId===this.seasonId&&"number"===typeof e.leg),s=Object.entries(e.leagueTableRecords.rowsGet()).sort(e.leagueTableRecords.rowsSortCompareFn),r=e=>s.findIndex(([,t])=>t.userId===e)+1,n=({roundIndex:e,seriesIndex:s})=>t.filter(([,t])=>t.series===s&&t.round===e).sort(([,e],[,t])=>e.leg-t.leg);return new this.$Range(0,this.roundsLimit-1).enumerate().reverse().map(t=>new this.$Range(0,2**t-1+.1).enumerate().map(a=>{const o={user0:{},user1:{}};if(!s.length)return o;const i=n({roundIndex:t,seriesIndex:a});if(!i.length){const i=[n({roundIndex:t+1,seriesIndex:2*a}),n({roundIndex:t+1,seriesIndex:2*a+1})],u=i.map(t=>e.leaguePlayOff.seriesWinnerGet(t.map(([,e])=>e)));return u.forEach((e,n)=>{const a=(()=>{const t=(n+1)%2;return e||!i[t].length&&i[n].length?n:-1})();if(-1===a)return;const u=i[a],c=(()=>{if(e)return r(e);const s=r(u[0][1].homeId);return 2**t*2-(s-1)})(),d=e?a:(a+1)%2;o["user".concat(d)].userId=s[c-1][1].userId,o["user".concat(d)].leagueTablePosition=c}),o}return i.reduce((e,[,t],s)=>{if(0===s&&(e.user0.winsCount=0,e.user1.winsCount=0,e.user0.leagueTablePosition=r(t.homeId),e.user1.leagueTablePosition=r(t.awayId),e.user0.userId=t.homeId,e.user1.userId=t.awayId),!t.resultWritten)return e;const n=t["".concat(s%2===0?"home":"away","Goals")],a=t["".concat(s%2===0?"away":"home","Goals")];return e["user".concat(n>a?"0":"1")].winsCount+=1,e.user0["leg".concat(s)]=n,e.user1["leg".concat(s)]=a,e},o)}))}get roundsLimit(){return this.$store.getters.leagueSeason.playOffRoundsLimit}get typeId(){var e;const{state:t}=this.$store;return parseInt((null===(e=Object.entries(t.matchesTypes.value).find(([,e])=>"playOff"===e.name))||void 0===e?void 0:e[0])||"0")}};h=Object(o["a"])([Object(i["a"])({components:{TableContainer:c["default"]},name:"LeaguePlayOff"})],h);var b=h,f=b,g=(s("8877"),s("2877")),m=Object(g["a"])(f,r,n,!1,null,"3aaa0faf",null);t["default"]=m.exports},8877:function(e,t,s){"use strict";var r=s("1f5c"),n=s.n(r);n.a}}]);
//# sourceMappingURL=chunk-667884bb.e371f7a9.js.map