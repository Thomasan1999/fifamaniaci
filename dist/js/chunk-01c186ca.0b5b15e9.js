(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01c186ca","chunk-e504afd4","chunk-2d95bcea"],{2281:function(e,t,r){},3181:function(e,t,r){"use strict";var s=r("8cbf"),n=r.n(s);n.a},"381c":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"scrollbar-container"},[e._t("default")],2)},n=[],a=r("9ab4"),o=r("60a3"),i=r("2fe1"),l=r("8aed");let u=class extends(Object(i["c"])(l["a"])){scrollMaxGet(){const{clientHeight:e,scrollHeight:t}=this.$el;return t-e}scrollOn(){this.$emit("scroll",this.$el.scrollTop)}mounted(){this.scroller=this.$scroll.createScroller(this.$el,1e3,30),this.$el.addEventListener("scroll",this.scrollOn)}destroyed(){this.$el.removeEventListener("scroll",this.scrollOn)}};u=Object(a["a"])([Object(o["a"])({name:"ScrollbarContainer"})],u);var c=u,p=c,d=(r("3181"),r("2877")),m=Object(d["a"])(p,s,n,!1,null,"51913f84",null);t["default"]=m.exports},"503a":function(e,t,r){},8119:function(e,t,r){"use strict";var s=r("2281"),n=r.n(s);n.a},"8cbf":function(e,t,r){},"9ddd":function(e,t,r){"use strict";r.r(t);var s=function(e,t){var r=t._c;return r("div",{staticClass:"form-container"},[t.parent.text.instructions?r("p",{staticClass:"instructions",domProps:{innerHTML:t._s(t.parent.text.instructions)}}):t._e(),r("form",{attrs:{action:t.parent.urlFullGet(),method:"post"},on:{submit:function(e){return e.preventDefault(),t.parent.submitOn(e)}}},[t._l(t.parent.elementsEntries,(function(e){var s,n=e[0],a=e[1];return[a.labelTop?r("label",{key:n+"-labelTop",staticClass:"label-top",domProps:{innerHTML:t._s(a.labelTop+":")}}):t._e(),r("div",{key:n+"-element",staticClass:"element",class:(s={},s["error-show"]=a.errorShow,s)},[r("label",{attrs:{for:t.parent.idGet({elementName:n})},domProps:{innerHTML:t._s(new t.parent.$String(t.parent.texts.dictionary[n]).capitalize()+":"+(a.required?"*":""))}}),r("input",{key:n+"-input",style:{color:a.color},attrs:{id:t.parent.idGet({elementName:n}),autocomplete:a.autocomplete,minlength:a.length.min,maxlength:a.length.max,type:a.input},domProps:{value:a.value},on:{blur:function(e){return t.parent.blurOn({element:a})},focus:function(e){return t.parent.focusOn({element:a})},input:function(e){return t.parent.propertiesUpdate({element:a,props:{value:e.target.value}})}}}),a.errorShow?r("div",{staticClass:"input-alert",domProps:{innerHTML:t._s(t.parent.alertHtmlGet(Object.assign({},a,{targetType:a.name})))}}):t._e()])]})),r("p",{staticClass:"required-fields-legend",domProps:{innerHTML:t._s(t.parent.texts.form.requiredFields)}}),r("button",{staticClass:"bordered-button",domProps:{innerHTML:t._s(t.parent.text.submit||t.parent.texts.form.submit)}})],2)])},n=[],a={name:"FormContainer"},o=a,i=(r("8119"),r("2877")),l=Object(i["a"])(o,s,n,!0,null,"11e74040",null);t["default"]=l.exports},c66d:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("loading-container",{attrs:{condition:e.userPropsInitialized}},[r("scrollbar-container",[r("div",{staticClass:"text-container-container"},[r("div",{staticClass:"text-container"},[r("h1",{domProps:{innerHTML:e._s(e.user?e.user.username:e.$route.params.username)}}),e.userLoggedIs?[r("form-container")]:r("div",{staticClass:"user-other-container"},[e.user?r("ul",e._l(e.userOtherVisibleGet(),(function(t,s){return r("li",{key:s},[r("span",{domProps:{innerHTML:e._s(new e.$String(e.texts.dictionary[s]).capitalize().htmlParse()+":")}}),r("span",{domProps:{innerHTML:e._s(new e.$String(t).htmlParse().toString())}})])})),0):r("p",{domProps:{innerHTML:e._s(e.texts.profile.userNotFound)}})])],2)])])],1)},n=[],a=(r("2532"),r("ddb0"),r("5530")),o=r("9ab4"),i=r("60a3"),l=r("2fe1"),u=r("e14e"),c=r("9ddd"),p=r("381c"),d=r("f6bb"),m=r("8aed");let h=class extends(Object(l["c"])(m["a"],d["a"],u["a"])){constructor(){super(...arguments),this.alertTypesActive=["empty","short","long","invalid","notFound","taken"],this.auth=!0,this.method="patch",this.tableName="users",this.profilePropsCalculated=!1,this.url="propsUpdate"}profilePropsCalc(){const{state:e}=this.$store;if(this.profilePropsCalculated||!e.userLogged.username)return;this.profilePropsCalculated=!0;const t=Object.keys(this.elements),{userLogged:r}=e;Object.keys(e.userProps).filter(s=>{var n;return r[s]&&(t.includes(s)||(null===(n=e.userProps[s])||void 0===n?void 0:n.nested))}).forEach(t=>{const s=({element:e,value:t})=>{const r=e.prefix?"".concat(e.prefix).concat(t):t;this.propertiesUpdate({element:e,props:{color:"",valueDefault:r,value:r}})};e.userProps[t].nested?Object.entries(r[t]).forEach(([e,r])=>{s({element:this.elements["".concat(t).concat(new this.$String(e).capitalize())],value:r})}):s({element:this.elements[t],value:r[t]})})}profileUsernameUpdate(){this.$store.commit("set",{props:{profileUsername:this.$route.params.username}})}responseOn(e){if(!e.ok){if("Incorrect password"===e.body.message)return void this.alertShow({alertType:"passwordIncorrect",targetType:"passwordCurrent"});this.alertShow({alertType:"invalid"})}}submitOn(){const e=Object.keys(this.formData);1!==e.length||"passwordCurrent"!==e[0]?this.formSubmit({auth:this.auth}):this.validate()}userOtherVisibleGet(){var e,t,r;if(!this.userPropsInitialized)return{};const{user:s}=this,n=(null===s||void 0===s?void 0:s.fbLink)?"${href|external|".concat(this.elements.fbLink.prefix).concat(s.fbLink,"}"):"";return{fbLink:n,usernamesInGamePs:null===s||void 0===s||null===(e=s.usernamesInGame)||void 0===e?void 0:e.ps,usernamesInGameXbox:null===s||void 0===s||null===(t=s.usernamesInGame)||void 0===t?void 0:t.xbox,usernamesInGamePc:null===s||void 0===s||null===(r=s.usernamesInGame)||void 0===r?void 0:r.pc}}get text(){return this.texts.profile}get user(){const{state:e}=this.$store,{userLogged:t}=e,{params:r}=this.$route,s=()=>{if(!r.username)return null;const t=Object.entries(e.users.value).find(([,e])=>e.username.toLowerCase()===r.username.toLowerCase());return t?Object(a["a"])({id:t[0]},t[1]):null};return e.profileUsername===t.username?t:s()}get userLoggedIs(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)===this.$store.state.userLogged.username}get userPropsInitialized(){var e;const{state:t}=this.$store,{userLogged:r}=t;return!this.$Tomwork.emptyIs(t.users.value)&&null===this.user||Boolean(t.profileUsername===r.username?r.loggedIn&&r.email:null===(e=this.user)||void 0===e?void 0:e.username)}async"$store.state.profileUsernameChangeOn"(){this.$store.dispatch("titleUpdate").catch(e=>{})}async"$store.state.userLogged.usernameChangeOn"(){var e;this.$route.params.username||this.$router.push({name:"profile",params:{username:(null===(e=this.user)||void 0===e?void 0:e.username)||""}}).catch(e=>{})}created(){const{getters:e,state:t}=this.$store,{userLogged:r}=t,s=({platformNames:e,orderFirst:t})=>e.reduce((e,r,s)=>{const n="usernamesInGame".concat(new this.$String(r).capitalize());return e[n]={reference:!0,required:!1,order:t+s,type:n,unique:!1},e},{});this.elements=this.elementsCreate(Object(a["a"])({email:{order:0,reference:!0,type:"email",value:r.email,valueDefault:r.email},fbLink:{reference:!0,required:!1,order:2,type:"fbLink"},passwordCurrent:{labelTop:e.texts.profile.passwordConfirmation,order:7,type:"password"},passwordNew:{order:1,required:!1,type:"password"}},s({platformNames:["ps","xbox","pc"],orderFirst:3}))),this.profileUsernameUpdate(),this.profilePropsCalc();const n=this;this.$store.subscribeAction({after({type:e}){"userPropsUpdate"===e&&n.profilePropsCalc()}})}};Object(o["a"])([Object(i["c"])("$store.state.profileUsername")],h.prototype,"$store.state.profileUsernameChangeOn",null),Object(o["a"])([Object(i["c"])("$store.state.userLogged.username")],h.prototype,"$store.state.userLogged.usernameChangeOn",null),h=Object(o["a"])([Object(i["a"])({components:{ScrollbarContainer:p["default"],FormContainer:c["default"]},name:"Profile"})],h);var f=h,b=f,v=(r("e277"),r("2877")),g=Object(v["a"])(b,s,n,!1,null,"0592fbe2",null);t["default"]=g.exports},e14e:function(e,t,r){"use strict";r("25f0"),r("ddb0");var s=r("9ab4"),n=r("2fe1"),a=r("60a3"),o=r("8aed"),i=r("eade");let l=class extends(Object(n["c"])(o["a"],i["a"])){focusOn({element:e}){"transparent"===e.color&&this.propertiesUpdate({element:e,props:{color:"",value:""}})}validityGet({element:{required:e,taken:t,type:r,validateRegex:s,validLength:n,value:a,valueDefault:o}}){return(s.test(a)||!a&&!e)&&(!t||a===o||"password"===r)&&n}get elementsEntries(){return Object.entries(this.elements).sort(([,e],[,t])=>e.order-t.order)}get text(){return this.texts[new this.$String(this.$options.name).decapitalize().toString()]}created(){Object.values(this.elements).forEach(e=>{e.valueDefault||this.propertiesUpdate({element:e,props:{color:"transparent",value:"â€‚"}}),this.$set(e,"asterisk",e.required?"*":"")})}};l=Object(s["a"])([Object(a["a"])({name:"FormSectionMixin"})],l),t["a"]=l},e277:function(e,t,r){"use strict";var s=r("503a"),n=r.n(s);n.a}}]);
//# sourceMappingURL=chunk-01c186ca.0b5b15e9.js.map