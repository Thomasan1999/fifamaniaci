(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ca3c8fb"],{"023a":function(e,t,s){"use strict";var r=s("9ab4"),n=s("60a3"),a=s("2fe1"),i=s("8aed"),o=s("631c");let u=class extends(Object(a["c"])(i["a"],o["a"])){rowsGet(e=this.tableName){const{categoryHas:t,nestedProps:s,value:r}=this.$store.state[e];return e&&this.$store.state.dataLoaded.value[this.categoriesActive]&&new this.$Object(t?r[this.categoriesActive]:r).findNested(this.nestedValues.slice(0,s.length)||[])||{}}get dataLoaded(){return Boolean(new this.$Object(this.$store.state.dataLoaded.value[this.categoriesActive]).findNested(this.nestedValues))}get divisionId(){return this.$store.state.divisions.active}get seasonId(){return this.$store.state.leagueSeasons.active}};Object(r["a"])([Object(n["b"])({required:!0,type:Object})],u.prototype,"text",void 0),u=Object(r["a"])([Object(n["a"])({name:"LeagueSectionMixin"})],u),t["a"]=u},"47f8":function(e,t,s){},"5edf":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("loading-container",{attrs:{condition:e.dataLoaded}},[e.rounds.length?s("div",{staticClass:"bracket",style:e.bracketStyleGet()},e._l(e.rounds,(function(t,r){return s("div",{key:r,ref:"rounds",refInFor:!0,staticClass:"round"},[s("p",{staticClass:"title",domProps:{innerHTML:e._s(e.text.rounds[e.rounds.length-r-1])}}),s("div",{staticClass:"series-container"},e._l(t,(function(t,r){return s("div",{key:r,ref:"series",refInFor:!0,staticClass:"series",style:{maxWidth:270+30*(2*e.roundsLimit-1)+"px"}},[s("table-container",{attrs:{"table-name":"matches",columns:e.columns,rows:t,"rows-sort-compare-fn":e.rowsSortCompareFn,text:e.text.table}})],1)})),0)])})),0):s("div",{staticClass:"text-container"},[s("p",{domProps:{innerHTML:e._s(new e.$String(e.text.placeholder).htmlParse())}})])])],1)},n=[],a=(s("ddb0"),s("f3f3")),i=s("9ab4"),o=s("60a3"),u=s("2fe1"),d=s("aa99"),c=s("8aed"),l=s("023a");let h=class extends(Object(u["c"])(c["a"],l["a"])){constructor(){super(...arguments),this.tableName="matches"}bracketStyleGet(){const{navVisible:e,windowWidth:t}=this.$store.state,s=257.5*Number(e),r=(()=>t<=920+s?100*this.roundsLimit+"%":t<=1380+s?Math.max(100,50*this.roundsLimit)+"%":"100%")();return{width:r}}rowsSortCompareFn([e],[t]){return e-t}get columns(){const e=e=>({required:!1,order:e+3,type:"integer"});return Object(a["a"])(Object(a["a"])({leagueTablePosition:{order:0,required:!1,type:"integer"}},Array(2*this.$store.getters.leagueSeason.playOffWinsLimit-1).fill(null).reduce((t,s,r)=>(t["leg"+r]=e(r),t),{})),{},{userId:{order:1,required:!1,type:"id"},winsCount:{order:2,required:!1,type:"integer"}})}get nestedValues(){return this.$store.state.leagueTableRecords.nestedProps.map(e=>this[e])}get rounds(){const{state:e}=this.$store,t=Object.entries(e.matches.value[this.categoriesActive]||{}).filter(([,e])=>e.typeId===this.typeId&&e.seasonId===this.seasonId&&"number"===typeof e.leg),s=Object.entries(e.leagueTableRecords.rowsGet()).sort(e.leagueTableRecords.rowsSortCompareFn);if(s.length<2)return[];const r=e=>s.findIndex(([,t])=>t.userId===e)+1,n=({roundIndex:e,seriesIndex:s})=>t.filter(([,t])=>t.series===s&&t.round===e).sort(([,e],[,t])=>e.leg-t.leg);return new this.$Range(0,this.roundsLimit-1).enumerate().reverse().map(t=>new this.$Range(0,2**t-1+.1).enumerate().map(a=>{const i={user0:{},user1:{}};if(!s.length)return i;const o=n({roundIndex:t,seriesIndex:a});if(!o.length){const o=[n({roundIndex:t+1,seriesIndex:2*a}),n({roundIndex:t+1,seriesIndex:2*a+1})],u=o.map(t=>e.leaguePlayOff.seriesWinnerGet(t.map(([,e])=>e)));return u.forEach((e,n)=>{const a=(()=>{const t=(n+1)%2;return e||!o[t].length&&o[n].length?n:-1})();if(-1===a)return;const u=o[a],d=(()=>{if(e)return r(e);const s=r(u[0][1].homeId);return 2**t*2-(s-1)})(),c=e?a:(a+1)%2;i["user"+c].userId=s[d-1][1].userId,i["user"+c].leagueTablePosition=d}),i}return o.reduce((e,[,t],s)=>{if(0===s&&(e.user0.winsCount=0,e.user1.winsCount=0,e.user0.leagueTablePosition=r(t.homeId),e.user1.leagueTablePosition=r(t.awayId),e.user0.userId=t.homeId,e.user1.userId=t.awayId),!t.resultWritten)return e;const n=t[(s%2===0?"home":"away")+"Goals"],a=t[(s%2===0?"away":"home")+"Goals"];return e["user"+(n>a?"0":"1")].winsCount+=1,e.user0["leg"+s]=n,e.user1["leg"+s]=a,e},i)}))}get roundsLimit(){return this.$store.getters.leagueSeason.playOffRoundsLimit}get typeId(){var e;const{state:t}=this.$store;return parseInt((null===(e=Object.entries(t.matchesTypes.value).find(([,e])=>"playOff"===e.name))||void 0===e?void 0:e[0])||"0")}};h=Object(i["a"])([Object(o["a"])({components:{TableContainer:d["default"]},name:"LeaguePlayOff"})],h);var g=h,f=g,b=(s("cbc6"),s("2877")),m=Object(b["a"])(f,r,n,!1,null,"b0621c50",null);t["default"]=m.exports},cbc6:function(e,t,s){"use strict";var r=s("47f8"),n=s.n(r);n.a}}]);
//# sourceMappingURL=chunk-0ca3c8fb.e229d22c.js.map