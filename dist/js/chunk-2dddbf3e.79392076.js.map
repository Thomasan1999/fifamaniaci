{"version":3,"sources":["webpack:///./src/components/messages/MessagesFormAdd.vue?f7d7","webpack:///./src/components/messages/MessagesFormAdd.vue?7986","webpack:///./src/components/messages/MessagesFormAdd.vue","webpack:///./src/components/messages/MessagesFormAdd.vue?3c4d","webpack:///./src/components/messages/MessagesFormAdd.vue?6173","webpack:///./src/mixins/Form.ts"],"names":["render","_obj","_vm","this","_h","$createElement","_c","_self","$store","state","userLogged","attrs","hostname","on","$event","preventDefault","submitOn","class","element","errorShow","submitted","length","max","input","domProps","value","blurOn","inputOn","staticClass","_s","texts","form","submit","_e","staticRenderFns","Main","Form","tableName","propertiesUpdate","props","target","valid","dispatch","categoryId","categories","active","lastUpdate","res","body","Object","keys","messages","categoriesActive","tabId","addressee","created","$dayjs","format","createdById","id","message","formData","ok","catch","err","values","elements","forEach","computedPropertiesUpdate","alertType","validateRegex","alertShow","targetType","name","required","validLength","test","trim","elementsCreate","type","elementsExtra","addresseeId","undefined","Number","component","FormMixin","alertTypes","emptyIs","taken","min","valueDefault","alertTypesActive","method","$options","find","inputting","alertTypeGet","errorShowUpdate","formDataUpdate","lengthValidityGet","validityGet","checking","sendable","tag","reference","parseFloat","parseInt","$set","alertSuccessful","categoryInclude","auth","url","validate","alertShowSuccessful","responseOn","headers","status","invalidOn","elementName","$String","caseTrainTo","$Range","includes","toString","entries","prop","formSubmit","Boolean","elementsAll","filter","some","defaults","autocomplete","default","email","password","boolean","float","integer","fbLink","username","usernamesInGamePs","usernamesInGamePc","usernamesInGameXbox","prefix","idUsername","alphabetical","alphabeticalExtended","alphanumerical","alphanumericalExtended","any","hexadecimal","visibility","defaultValue","valueNew","eval","replace","match"],"mappings":"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","file":"js/chunk-2dddbf3e.79392076.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=style&index=0&id=4b61af3c&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=style&index=0&id=4b61af3c&lang=stylus&scoped=true&\"","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.state.userLogged.loggedIn)?_c('form',{attrs:{\"action\":(\"https://api.\" + _vm.hostname + \"/messages\"),\"autocomplete\":\"disabled\",\"method\":\"post\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitOn($event)}}},[_c('div',{class:( _obj = {}, _obj[\"error-show\"] = _vm.element.errorShow && _vm.submitted, _obj )},[_c('input',{attrs:{\"maxlength\":_vm.element.length.max,\"type\":_vm.element.input},domProps:{\"value\":_vm.element.value},on:{\"blur\":function($event){return _vm.blurOn({element: _vm.element})},\"input\":_vm.inputOn}})]),_c('button',{staticClass:\"bordered-button\",domProps:{\"innerHTML\":_vm._s(_vm.texts.form.submit)}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {Component, Prop} from 'vue-property-decorator';\nimport {mixins}          from 'vue-class-component';\nimport MainMixin         from '@/mixins/Main';\nimport FormMixin         from '@/mixins/Form';\n\n@Component({\n    name: `MessagesFormAdd`\n})\nexport default class MessagesFormAdd extends mixins(MainMixin, FormMixin)\n{\n    @Prop({type: Number}) public readonly addresseeId!: number;\n    @Prop({required: true, type: Number}) public readonly tabId!: number;\n    @Prop({required: true, type: Object}) public readonly text!: any;\n\n    public inputOn($event: Merge<KeyboardEvent, { target: HTMLInputElement }>): void\n    {\n        this.propertiesUpdate({element: this.element, props: {value: $event.target.value}});\n    }\n\n    public submitOn(): void\n    {\n        this.submitted = true;\n\n        if (!this.valid)\n        {\n            this.computedPropertiesUpdate({element: this.element});\n\n            const {alertType, length, validateRegex} = this.element;\n            this.alertShow({alertType, length, state: `failed`, targetType: `message`, validateRegex});\n            return;\n        }\n\n        this.$store.dispatch(`tableUpdate`, {\n            categoryId: this.$store.state.categories.active,\n            lastUpdate: false,\n            res: {\n                body: {\n                    [Object.keys(this.$store.state.messages.value[this.categoriesActive][this.tabId]).length + 1000]: {\n                        addressee: null,\n                        categoryId: this.$store.state.categories.active,\n                        created: this.$dayjs().format(),\n                        createdById: this.$store.state.userLogged.id,\n                        message: this.formData.message\n                    }\n                },\n                ok: true\n            } as unknown as any,\n            tableName: this.tableName,\n        }).catch((err) =>\n        {\n            console.error(err);\n        });\n\n        this.submitted = false;\n\n        Object.values(this.elements).forEach((element) =>\n        {\n            this.propertiesUpdate({element, props: {value: ``}});\n        });\n    }\n\n    public validityGet({element: {name, required, validateRegex, validLength}}: { element: FormElement }): boolean\n    {\n        return ((validateRegex.test(this.formData[name]) && this.formData[name]?.trim() && required) || (!this.formData[name] && !required)) && validLength;\n    }\n\n    public tableName = `messages`;\n\n    public submitted: boolean = false;\n\n    public get element(): FormElement\n    {\n        return this.elements.message;\n    }\n\n    public created(): void\n    {\n        this.elements = this.elementsCreate({\n            message: {\n                type: `message`\n            }\n        });\n        this.elementsExtra = this.elementsCreate({\n            addresseeId: {\n                required: false,\n                value: this.addresseeId === -1 ? undefined : this.addresseeId\n            }\n        });\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MessagesFormAdd.vue?vue&type=template&id=4b61af3c&scoped=true&\"\nimport script from \"./MessagesFormAdd.vue?vue&type=script&lang=ts&\"\nexport * from \"./MessagesFormAdd.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MessagesFormAdd.vue?vue&type=style&index=0&id=4b61af3c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b61af3c\",\n  null\n  \n)\n\nexport default component.exports","import {mixins}          from 'vue-class-component';\r\nimport {Component}       from 'vue-property-decorator';\r\nimport MainMixin         from '@/mixins/Main';\r\n\r\n@Component({\r\n    name: `FormMixin`\r\n})\r\nexport default class FormMixin extends mixins(MainMixin)\r\n{\r\n    public alertShowSuccessful(): void\r\n    {\r\n        this.alertShow({alertType: `successful`, state: `successful`, targetType: this.$options.name});\r\n    }\r\n\r\n    public alertTypeGet({element}: { element: FormElement }): string\r\n    {\r\n        return this.alertTypesActive.find((alertType) =>\r\n        {\r\n            return this.alertTypes[alertType](element);\r\n        }) || ``;\r\n    }\r\n\r\n    public blurOn({element}: { element: FormElement }): void\r\n    {\r\n        element.inputting = false;\r\n        element.alertType = this.alertTypeGet({element});\r\n        this.errorShowUpdate({element});\r\n    }\r\n\r\n    public computedPropertiesUpdate({element}: { element: FormElement }): void\r\n    {\r\n        this.formDataUpdate({element});\r\n        element.validLength = this.lengthValidityGet({element});\r\n        element.valid = this.validityGet({element});\r\n        element.alertType = this.alertTypeGet({element});\r\n        this.errorShowUpdate({element});\r\n    }\r\n\r\n    public errorShowUpdate({element}: { element: FormElement }): void\r\n    {\r\n        element.errorShow = (element.required || !element.emptyIs()) && !element.valid && !element.inputting && !element.checking;\r\n    }\r\n\r\n    public formDataUpdate({element}: { element: FormElement }): void\r\n    {\r\n        if (!element.sendable || element.tag === `span`)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if ((element.emptyIs() && !element.required) || (element.reference && element.valueDefault === element.value))\r\n        {\r\n            delete this.formData[element.name];\r\n            return;\r\n        }\r\n\r\n        const value: any = (() =>\r\n        {\r\n            switch (element.type)\r\n            {\r\n                case `id`:\r\n                case `idUsername`:\r\n                    return element.id || null;\r\n                case `date`:\r\n                    return element.value || this.$dayjs().format();\r\n                case `float`:\r\n                    return parseFloat(element.value) || element.min;\r\n                case `integer`:\r\n                    return parseInt(element.value) || element.min;\r\n                case `boolean`:\r\n                    return element.value;\r\n                default:\r\n                    return element.value === `\\u2002` ? null : (element.value || null);\r\n            }\r\n        })();\r\n\r\n        this.$set(this.formData, element.name, value);\r\n    }\r\n\r\n    public async formSubmit({alertSuccessful = true, categoryInclude = false, auth = false, tableName = this.tableName, url = this.url}: {\r\n        alertSuccessful?: boolean,\r\n        auth?: boolean,\r\n        categoryInclude?: boolean,\r\n        tableName?: string,\r\n        url?: string\r\n    } = {})\r\n    {\r\n        this.validate();\r\n\r\n        if (!this.valid)\r\n        {\r\n            this.invalidOn();\r\n            return;\r\n        }\r\n\r\n        if (alertSuccessful)\r\n        {\r\n            this.alertShowSuccessful();\r\n        }\r\n\r\n        Object.values(this.elements).forEach((element) =>\r\n        {\r\n            this.propertiesUpdate({\r\n                element,\r\n                props: {\r\n                    ...(element.reference ? {valueDefault: element.value} : {value: element.tag === `span` ? element.value : ``})\r\n                }\r\n            });\r\n        });\r\n\r\n        // eslint-disable-next-line no-unused-expressions\r\n        this.responseOn?.({body: {}, headers: {}, ok: true, status: 400});\r\n\r\n        return {body: {}, headers: {}, ok: true, status: 400};\r\n    }\r\n\r\n    public idGet({elementName}: { elementName: string }): string\r\n    {\r\n        return `${new this.$String(this.$options.name as string).caseTrainTo()}-${new this.$String(elementName).caseTrainTo()}${typeof this.id !== `undefined` ? `-${this.id}`\r\n            : ``}`;\r\n    }\r\n\r\n    public invalidOn(): void\r\n    {\r\n        this.alertShow({alertType: `invalid`, state: `failed`});\r\n    }\r\n\r\n    public lengthValidityGet({element: {length, value}}: { element: FormElement }): boolean\r\n    {\r\n        return new this.$Range(length.min, length.max).includes(value.toString().length);\r\n    }\r\n\r\n    public propertiesUpdate({element, inputting = true, props}: { element: FormElement, inputting?: boolean, props: { [s: string]: any } }): void\r\n    {\r\n        Object.entries(props).forEach(([prop, value]) =>\r\n        {\r\n            element.inputting = inputting;\r\n            element[prop] = value;\r\n            this.computedPropertiesUpdate({element});\r\n        });\r\n    }\r\n\r\n    public responseOn(res: { headers: {}; body: {}; ok: boolean; status: number }): void\r\n    {\r\n    }\r\n\r\n    public submitOn(): void\r\n    {\r\n        this.formSubmit({auth: Boolean(this.auth), categoryInclude: Boolean(this.categoryInclude)}).catch(console.error);\r\n    }\r\n\r\n    public urlFullGet({tableName = this.tableName, url = this.url}: {\r\n        tableName?: string,\r\n        url?: string\r\n    } = {}): string\r\n    {\r\n        return `https://api.${this.hostname}/${tableName}${url ? `/${url}` : ``}`;\r\n    }\r\n\r\n    // eslint-disable-next-line no-empty-pattern\r\n    public validityGet({}: { element: FormElement }): boolean\r\n    {\r\n        return true;\r\n    }\r\n\r\n    public validate(): void\r\n    {\r\n        Object.values(this.elements).forEach((element) =>\r\n        {\r\n            element.inputting = false;\r\n            this.computedPropertiesUpdate({element});\r\n        });\r\n    }\r\n\r\n    public alertTypes: { [s: string]: (element: FormElement) => boolean } = {\r\n        empty(element)\r\n        {\r\n            return element.required && element.emptyIs();\r\n        },\r\n        invalid({validateRegex, value})\r\n        {\r\n            return !validateRegex.test(value);\r\n        },\r\n        long({length, value})\r\n        {\r\n            return value.length > length.max;\r\n        },\r\n        notFound({taken})\r\n        {\r\n            return !taken;\r\n        },\r\n        short(element)\r\n        {\r\n            return !(!element.required && element.emptyIs()) && element.value.length < element.length.min;\r\n        },\r\n        taken({taken, type, valueDefault, value})\r\n        {\r\n            return taken && type !== `password` && value !== valueDefault;\r\n        }\r\n    };\r\n\r\n    public alertTypesActive: string[] = [`short`, `long`, `invalid`, `empty`];\r\n    public auth!: boolean;\r\n    public categoryInclude!: boolean;\r\n    public elements: { [s: string]: FormElement } = {};\r\n    public elementsExtra: { [s: string]: FormElement } = {};\r\n    public formData: { [s: string]: any } = {};\r\n    public id!: string | number;\r\n    public method: 'post' | 'get' | 'patch' | 'delete' = `post`;\r\n    public tableName!: string;\r\n    public url!: string;\r\n\r\n    public get elementsAll()\r\n    {\r\n        return {...this.elements, ...this.elementsExtra};\r\n    }\r\n\r\n    public get valid(): boolean\r\n    {\r\n        return !Object.entries(this.elementsAll).filter(([, element]) =>\r\n        {\r\n            return element.required;\r\n        }).some(([elementName, element]) =>\r\n        {\r\n            return !element.valid && elementName !== `password`;\r\n        });\r\n    }\r\n\r\n    public elementsCreate(elements: { [s: string]: Partial<FormElement> }): { [s: string]: FormElement }\r\n    {\r\n        const defaults = {\r\n            alertType: ``,\r\n            autocomplete: {\r\n                default: `off`,\r\n                email: `email`,\r\n                password: `password`\r\n            },\r\n            checking: false,\r\n            emptyIs()\r\n            {\r\n                // @ts-ignore\r\n                return this.value === `` || this.value === `\\u2002`;\r\n            },\r\n            errorShow: false,\r\n            input: {\r\n                boolean: `checkbox`,\r\n                default: `text`,\r\n                email: `email`,\r\n                float: `number`,\r\n                integer: `number`,\r\n                password: `password`\r\n            },\r\n            inputting: false,\r\n            length: {\r\n                default: {min: 0, max: 128},\r\n                email: {min: 0, max: 64},\r\n                fbLink: {min: 25, max: 256},\r\n                message: {min: 0, max: 1024},\r\n                password: {min: 6, max: 64},\r\n                username: {min: 0, max: 32},\r\n                usernamesInGamePs: {min: 3, max: 16},\r\n                usernamesInGamePc: {min: 4, max: 16},\r\n                usernamesInGameXbox: {min: 3, max: 16}\r\n            },\r\n            prefix: {\r\n                default: ``,\r\n                fbLink: `https://facebook.com/`\r\n            },\r\n            required: true,\r\n            sendable: true,\r\n            tag: `input`,\r\n            taken: {\r\n                default: false,\r\n                password: true\r\n            },\r\n            type: `any`,\r\n            valid: `\\${!element.required}`,\r\n            validLength: true,\r\n            validateRegex: {\r\n                id: /^([-]?\\d|NaN)+$/,\r\n                idUsername: /^([-]?\\d|NaN)+$/,\r\n                alphabetical: /^([a-z]| )+$/i,\r\n                alphabeticalExtended: /^([\\u0041-\\u005a]|[\\u00c0-\\u024f]| )+$/i,\r\n                alphanumerical: /^(\\w+| )$/i,\r\n                alphanumericalExtended: /^(\\d|[\\u0041-\\u005a]|[\\u00c0-\\u024f]| )+$/i,\r\n                any: /^(.*)$/,\r\n                boolean: /^(true|false)$/,\r\n                default: /^(.*)$/,\r\n                email: /^(([^<>()\\\\.,;:\\s@\"]+(\\.[^<>()\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n                fbLink: /^((http|https):\\/\\/)(www\\.)?(facebook\\.com)(\\/)?([^\\W_]|\\.){5,}$/,\r\n                float: /^([-]?\\d[.\\d+]?|NaN)+$/,\r\n                hexadecimal: /[0-9a-f]+/i,\r\n                integer: /^([-]?\\d|NaN)+$/,\r\n                username: /^(\\d|[\\u0041-\\u005a]|[\\u00c0-\\u024f]| |_|-)+$/i,\r\n                usernamesInGamePc: /^(\\w|-|_)+$/i,\r\n                usernamesInGamePs: /^(\\w|-|_)+$/i,\r\n                usernamesInGameXbox: /^(.*)+$/i\r\n            },\r\n            value: {\r\n                boolean: false,\r\n                default: ``\r\n            },\r\n            visibility: true\r\n        };\r\n\r\n        Object.entries(elements).forEach(([elementName, element]) =>\r\n        {\r\n            this.$set(element, `name`, elementName);\r\n\r\n            Object.entries(defaults).filter(([prop, defaultValue]) =>\r\n            {\r\n                // @ts-ignore\r\n                return !/^\\${(.*)}$/.test(defaultValue) && typeof element[prop] === `undefined`;\r\n            }).forEach(([prop, defaultValue]) =>\r\n            {\r\n                if (typeof defaultValue === `object`)\r\n                {\r\n                    this.$set(element, prop, Object.keys(defaultValue).includes(element.type as string) ? defaultValue[element.type as string] : defaultValue.default);\r\n                    return;\r\n                }\r\n\r\n                this.$set(element, prop, defaultValue);\r\n            });\r\n\r\n            this.formDataUpdate({element: element as FormElement});\r\n\r\n            Object.entries(defaults).filter(([, defaultValue]) =>\r\n            {\r\n                // @ts-ignore\r\n                return /^\\${(.*)}$/.test(defaultValue);\r\n            }).forEach(([prop, defaultValue]) =>\r\n            {\r\n                const valueNew = (() =>\r\n                {\r\n                    if (prop === `valid`)\r\n                    {\r\n                        return element.required ? this.validityGet({element: element as FormElement}) : true;\r\n                    }\r\n\r\n                    // eslint-disable-next-line no-eval\r\n                    return eval((defaultValue as string).replace(`\\${`, ``).match(/(.*)(?=})/)?.[0] || ``);\r\n                })();\r\n\r\n                this.$set(element, prop, valueNew);\r\n            });\r\n        });\r\n\r\n        return elements as { [s: string]: FormElement };\r\n    }\r\n}\r\n"],"sourceRoot":""}