(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d4d438e","chunk-e504afd4","chunk-2d95bcea"],{2281:function(e,t,r){},"2d39":function(e,t,r){},3181:function(e,t,r){"use strict";var s=r("8cbf"),a=r.n(s);a.a},"381c":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"scrollbar-container"},[e._t("default")],2)},a=[],n=r("9ab4"),i=r("60a3"),l=r("2fe1"),o=r("8aed");let u=class extends(Object(l["c"])(o["a"])){scrollMaxGet(){const{clientHeight:e,scrollHeight:t}=this.$el;return t-e}scrollOn(){this.$emit("scroll",this.$el.scrollTop)}mounted(){this.scroller=this.$scroll.createScroller(this.$el,1e3,30),this.$el.addEventListener("scroll",this.scrollOn)}destroyed(){this.$el.removeEventListener("scroll",this.scrollOn)}};u=Object(n["a"])([Object(i["a"])({name:"ScrollbarContainer"})],u);var _=u,c=_,m=(r("3181"),r("2877")),d=Object(m["a"])(c,s,a,!1,null,"51913f84",null);t["default"]=d.exports},"4d47":function(e,t,r){"use strict";var s=r("2d39"),a=r.n(s);a.a},8119:function(e,t,r){"use strict";var s=r("2281"),a=r.n(s);a.a},"8cbf":function(e,t,r){},"9ddd":function(e,t,r){"use strict";r.r(t);var s=function(e,t){var r=t._c;return r("div",{staticClass:"form-container"},[t.parent.text.instructions?r("p",{staticClass:"instructions",domProps:{innerHTML:t._s(t.parent.text.instructions)}}):t._e(),r("form",{attrs:{action:t.parent.urlFullGet(),method:"post"},on:{submit:function(e){return e.preventDefault(),t.parent.submitOn(e)}}},[t._l(t.parent.elementsEntries,(function(e){var s,a=e[0],n=e[1];return[n.labelTop?r("label",{key:a+"-labelTop",staticClass:"label-top",domProps:{innerHTML:t._s(n.labelTop+":")}}):t._e(),r("div",{key:a+"-element",staticClass:"element",class:(s={},s["error-show"]=n.errorShow,s)},[r("label",{attrs:{for:t.parent.idGet({elementName:a})},domProps:{innerHTML:t._s(new t.parent.$String(t.parent.texts.dictionary[a]).capitalize()+":"+(n.required?"*":""))}}),r("input",{key:a+"-input",style:{color:n.color},attrs:{id:t.parent.idGet({elementName:a}),autocomplete:n.autocomplete,minlength:n.length.min,maxlength:n.length.max,type:n.input},domProps:{value:n.value},on:{blur:function(e){return t.parent.blurOn({element:n})},focus:function(e){return t.parent.focusOn({element:n})},input:function(e){return t.parent.propertiesUpdate({element:n,props:{value:e.target.value}})}}}),n.errorShow?r("div",{staticClass:"input-alert",domProps:{innerHTML:t._s(t.parent.alertHtmlGet(Object.assign({},n,{targetType:n.name})))}}):t._e()])]})),r("p",{staticClass:"required-fields-legend",domProps:{innerHTML:t._s(t.parent.texts.form.requiredFields)}}),r("button",{staticClass:"bordered-button",domProps:{innerHTML:t._s(t.parent.text.submit||t.parent.texts.form.submit)}})],2)])},a=[],n={name:"FormContainer"},i=n,l=(r("8119"),r("2877")),o=Object(l["a"])(i,s,a,!0,null,"11e74040",null);t["default"]=o.exports},c66d:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("loading-container",{attrs:{condition:e.userPropsInitialized}},[r("scrollbar-container",[r("div",{staticClass:"text-container-container"},[r("div",{staticClass:"text-container"},[r("h1",{domProps:{innerHTML:e._s(e.user?e.user.username:e.$route.params.username)}}),e.userLoggedIs?[r("form-container")]:r("div",{staticClass:"user-other-container"},[e.user?r("ul",e._l(e.userOtherVisibleGet(),(function(t,s){return r("li",{key:s},[r("span",{domProps:{innerHTML:e._s(new e.$String(e.texts.dictionary[s]).capitalize().htmlParse()+":")}}),r("span",{domProps:{innerHTML:e._s(new e.$String(t).htmlParse().toString())}})])})),0):r("p",{domProps:{innerHTML:e._s(e.texts.profile.userNotFound)}})])],2)])])],1)},a=[],n=(r("2532"),r("ddb0"),r("5530")),i=r("9ab4"),l=r("60a3"),o=r("2fe1"),u=r("e14e"),_=r("9ddd"),c=r("381c"),m=r("f6bb"),d=r("8aed");let p=class extends(Object(o["c"])(d["a"],m["a"],u["a"])){constructor(){super(...arguments),this.alertTypesActive=["empty","short","long","invalid","notFound","taken"],this.auth=!0,this.method="patch",this.tableName="users",this.profilePropsCalculated=!1,this.url="propsUpdate"}profilePropsCalc(){const{state:e}=this.$store;if(this.profilePropsCalculated||!e.userLogged.username)return;this.profilePropsCalculated=!0;const t=Object.keys(this.elements),{userLogged:r}=e;Object.keys(e.userProps).filter(s=>{var a;return r[s]&&(t.includes(s)||(null===(a=e.userProps[s])||void 0===a?void 0:a.nested))}).forEach(t=>{const s=({element:e,value:t})=>{const r=e.prefix?"".concat(e.prefix).concat(t):t;this.propertiesUpdate({element:e,props:{color:"",valueDefault:r,value:r}})};e.userProps[t].nested?Object.entries(r[t]).forEach(([e,r])=>{s({element:this.elements["".concat(t).concat(new this.$String(e).capitalize())],value:r})}):s({element:this.elements[t],value:r[t]})})}profileUsernameUpdate(){this.$store.commit("set",{props:{profileUsername:this.$route.params.username}})}responseOn(e){if(!e.ok){if("Incorrect password"===e.body.message)return void this.alertShow({alertType:"passwordIncorrect",targetType:"passwordCurrent"});this.alertShow({alertType:"invalid"})}}submitOn(){const e=Object.keys(this.formData);1!==e.length||"passwordCurrent"!==e[0]?this.formSubmit({auth:this.auth}):this.validate()}userOtherVisibleGet(){var e,t,r;if(!this.userPropsInitialized)return{};const{user:s}=this,a=(null===s||void 0===s?void 0:s.fbLink)?"${href|external|".concat(this.elements.fbLink.prefix).concat(s.fbLink,"}"):"";return{fbLink:a,usernamesInGamePs:null===s||void 0===s||null===(e=s.usernamesInGame)||void 0===e?void 0:e.ps,usernamesInGameXbox:null===s||void 0===s||null===(t=s.usernamesInGame)||void 0===t?void 0:t.xbox,usernamesInGamePc:null===s||void 0===s||null===(r=s.usernamesInGame)||void 0===r?void 0:r.pc}}get text(){return this.texts.profile}get user(){const{state:e}=this.$store,{userLogged:t}=e,{params:r}=this.$route,s=()=>{if(!r.username)return null;const t=Object.entries(e.users.value).find(([,e])=>e.username.toLowerCase()===r.username.toLowerCase());return t?Object(n["a"])({id:t[0]},t[1]):null};return e.profileUsername===t.username?t:s()}get userLoggedIs(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)===this.$store.state.userLogged.username}get userPropsInitialized(){var e;const{state:t}=this.$store,{userLogged:r}=t;return!this.$Tomwork.emptyIs(t.users.value)&&null===this.user||Boolean(t.profileUsername===r.username?r.loggedIn&&r.email:null===(e=this.user)||void 0===e?void 0:e.username)}async"$store.state.profileUsernameChangeOn"(){this.$store.dispatch("titleUpdate").catch(e=>{})}async"$store.state.userLogged.usernameChangeOn"(){var e;this.$route.params.username||this.$router.push({name:"profile",params:{username:(null===(e=this.user)||void 0===e?void 0:e.username)||""}}).catch(e=>{})}created(){const{getters:e,state:t}=this.$store,{userLogged:r}=t,s=({platformNames:e,orderFirst:t})=>e.reduce((e,r,s)=>{const a="usernamesInGame".concat(new this.$String(r).capitalize());return e[a]={reference:!0,required:!1,order:t+s,type:a,unique:!1},e},{});this.elements=this.elementsCreate(Object(n["a"])({email:{order:0,reference:!0,type:"email",value:r.email,valueDefault:r.email},fbLink:{reference:!0,required:!1,order:2,type:"fbLink"},passwordCurrent:{labelTop:e.texts.profile.passwordConfirmation,order:7,type:"password"},passwordNew:{order:1,required:!1,type:"password"}},s({platformNames:["ps","xbox","pc"],orderFirst:3}))),this.profileUsernameUpdate(),this.profilePropsCalc();const a=this;this.$store.subscribeAction({after({type:e}){"userPropsUpdate"===e&&a.profilePropsCalc()}})}};Object(i["a"])([Object(l["c"])("$store.state.profileUsername")],p.prototype,"$store.state.profileUsernameChangeOn",null),Object(i["a"])([Object(l["c"])("$store.state.userLogged.username")],p.prototype,"$store.state.userLogged.usernameChangeOn",null),p=Object(i["a"])([Object(l["a"])({components:{ScrollbarContainer:c["default"],FormContainer:_["default"]},name:"Profile"})],p);var h=p,f=h,b=(r("4d47"),r("2877")),v=Object(b["a"])(f,s,a,!1,null,"1dc6acce",null);t["default"]=v.exports},e14e:function(e,t,r){"use strict";r("25f0"),r("ddb0");var s=r("9ab4"),a=r("2fe1"),n=r("60a3"),i=r("8aed"),l=r("eade");let o=class extends(Object(a["c"])(i["a"],l["a"])){focusOn({element:e}){"transparent"===e.color&&this.propertiesUpdate({element:e,props:{color:"",value:""}})}validityGet({element:{required:e,taken:t,type:r,validateRegex:s,validLength:a,value:n,valueDefault:i}}){return(s.test(n)||!n&&!e)&&(!t||n===i||"password"===r)&&a}get elementsEntries(){return Object.entries(this.elements).sort(([,e],[,t])=>e.order-t.order)}get text(){return this.texts[new this.$String(this.$options.name).decapitalize().toString()]}created(){Object.values(this.elements).forEach(e=>{e.valueDefault||this.propertiesUpdate({element:e,props:{color:"transparent",value:"â€‚"}}),this.$set(e,"asterisk",e.required?"*":"")})}};o=Object(s["a"])([Object(n["a"])({name:"FormSectionMixin"})],o),t["a"]=o},eade:function(e,t,r){"use strict";r("ddb0");var s=r("9ab4"),a=r("2fe1"),n=r("60a3"),i=r("8aed"),l=r("f6bb");let o=class extends(Object(a["c"])(i["a"],l["a"])){async availabilityCheck({element:e}){!1!==e.unique&&("password"===e.input||e.validateRegex.test(e.value)||(e.errorShow=!1),"password"!==e.input&&e.validateRegex.test(e.value)&&(e.checking=!0,new Promise((t,r)=>{const s=Object.entries(this.$store.state.users.value).find(([t,r])=>r[e.name]===e.value);return s?t():r()}).then(()=>{e.taken=!0}).catch(()=>{e.taken=!1}).finally(()=>{e.checking=!1,this.computedPropertiesUpdate({element:e})})))}blurOn({element:e}){this.availabilityCheck({element:e}).catch((function(){})),e.inputting=!1,e.alertType=this.alertTypeGet({element:e}),this.errorShowUpdate({element:e})}};o=Object(s["a"])([Object(n["a"])({name:"RegistrationLoginFormMixin"})],o),t["a"]=o},f6bb:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2532"),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("466d"),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_4__),C_Users_tomas_WebStormProjects_fifamaniaci_client_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5530"),tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("9ab4"),vue_class_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2fe1"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("60a3"),_mixins_Main__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("8aed");let FormMixin=class FormMixin extends(Object(vue_class_component__WEBPACK_IMPORTED_MODULE_7__["c"])(_mixins_Main__WEBPACK_IMPORTED_MODULE_9__["a"])){constructor(){super(...arguments),this.alertTypes={empty(e){return e.required&&e.emptyIs()},invalid({validateRegex:e,value:t}){return!e.test(t)},long({length:e,value:t}){return t.length>e.max},notFound({taken:e}){return!e},short(e){return!(!e.required&&e.emptyIs())&&e.value.length<e.length.min},taken({taken:e,type:t,valueDefault:r,value:s}){return e&&"password"!==t&&s!==r}},this.alertTypesActive=["short","long","invalid","empty"],this.elements={},this.elementsExtra={},this.formData={},this.method="post"}alertShowSuccessful(){this.alertShow({alertType:"successful",state:"successful",targetType:this.$options.name})}alertTypeGet({element:e}){return this.alertTypesActive.find(t=>this.alertTypes[t](e))||""}blurOn({element:e}){e.inputting=!1,e.alertType=this.alertTypeGet({element:e}),this.errorShowUpdate({element:e})}computedPropertiesUpdate({element:e}){this.formDataUpdate({element:e}),e.validLength=this.lengthValidityGet({element:e}),e.valid=this.validityGet({element:e}),e.alertType=this.alertTypeGet({element:e}),this.errorShowUpdate({element:e})}errorShowUpdate({element:e}){e.errorShow=(e.required||!e.emptyIs())&&!e.valid&&!e.inputting&&!e.checking}formDataUpdate({element:e}){if(!e.sendable||"span"===e.tag)return;if(e.emptyIs()&&!e.required||e.reference&&e.valueDefault===e.value)return void delete this.formData[e.name];const t=(()=>{switch(e.type){case"id":case"idUsername":return e.id||null;case"date":return e.value||this.$dayjs().format();case"float":return parseFloat(e.value)||e.min;case"integer":return parseInt(e.value)||e.min;case"boolean":return e.value;default:return"â€‚"===e.value?null:e.value||null}})();this.$set(this.formData,e.name,t)}async formSubmit({alertSuccessful:e=!0,categoryInclude:t=!1,auth:r=!1,tableName:s=this.tableName,url:a=this.url}={}){var n;if(this.validate(),this.valid)return e&&this.alertShowSuccessful(),Object.values(this.elements).forEach(e=>{this.propertiesUpdate({element:e,props:Object(C_Users_tomas_WebStormProjects_fifamaniaci_client_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__["a"])({},e.reference?{valueDefault:e.value}:{value:"span"===e.tag?e.value:""})})}),null===(n=this.responseOn)||void 0===n||n.call(this,{body:{},headers:{},ok:!0,status:400}),{body:{},headers:{},ok:!0,status:400};this.invalidOn()}idGet({elementName:e}){return"".concat(new this.$String(this.$options.name).caseTrainTo(),"-").concat(new this.$String(e).caseTrainTo()).concat("undefined"!==typeof this.id?"-".concat(this.id):"")}invalidOn(){this.alertShow({alertType:"invalid",state:"failed"})}lengthValidityGet({element:{length:e,value:t}}){return new this.$Range(e.min,e.max).includes(t.toString().length)}propertiesUpdate({element:e,inputting:t=!0,props:r}){Object.entries(r).forEach(([r,s])=>{e.inputting=t,e[r]=s,this.computedPropertiesUpdate({element:e})})}responseOn(e){}submitOn(){this.formSubmit({auth:Boolean(this.auth),categoryInclude:Boolean(this.categoryInclude)}).catch((function(){}))}urlFullGet({tableName:e=this.tableName,url:t=this.url}={}){return"https://api.".concat(this.hostname,"/").concat(e).concat(t?"/".concat(t):"")}validityGet({}){return!0}validate(){Object.values(this.elements).forEach(e=>{e.inputting=!1,this.computedPropertiesUpdate({element:e})})}get elementsAll(){return Object(C_Users_tomas_WebStormProjects_fifamaniaci_client_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__["a"])({},this.elements,{},this.elementsExtra)}get valid(){return!Object.entries(this.elementsAll).filter(([,e])=>e.required).some(([e,t])=>!t.valid&&"password"!==e)}elementsCreate(elements){const defaults={alertType:"",autocomplete:{default:"off",email:"email",password:"password"},checking:!1,emptyIs(){return""===this.value||"â€‚"===this.value},errorShow:!1,input:{boolean:"checkbox",default:"text",email:"email",float:"number",integer:"number",password:"password"},inputting:!1,length:{default:{min:0,max:128},email:{min:0,max:64},fbLink:{min:25,max:256},message:{min:0,max:1024},password:{min:6,max:64},username:{min:0,max:32},usernamesInGamePs:{min:3,max:16},usernamesInGamePc:{min:4,max:16},usernamesInGameXbox:{min:3,max:16}},prefix:{default:"",fbLink:"https://facebook.com/"},required:!0,sendable:!0,tag:"input",taken:{default:!1,password:!0},type:"any",valid:"${!element.required}",validLength:!0,validateRegex:{id:/^([-]?\d|NaN)+$/,idUsername:/^([-]?\d|NaN)+$/,alphabetical:/^([a-z]| )+$/i,alphabeticalExtended:/^([\u0041-\u005a]|[\u00c0-\u024f]| )+$/i,alphanumerical:/^(\w+| )$/i,alphanumericalExtended:/^(\d|[\u0041-\u005a]|[\u00c0-\u024f]| )+$/i,any:/^(.*)$/,boolean:/^(true|false)$/,default:/^(.*)$/,email:/^(([^<>()\\.,;:\s@"]+(\.[^<>()\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,fbLink:/^((http|https):\/\/)(www\.)?(facebook\.com)(\/)?([^\W_]|\.){5,}$/,float:/^([-]?\d[.\d+]?|NaN)+$/,hexadecimal:/[0-9a-f]+/i,integer:/^([-]?\d|NaN)+$/,username:/^(\d|[\u0041-\u005a]|[\u00c0-\u024f]| |_|-)+$/i,usernamesInGamePc:/^(\w|-|_)+$/i,usernamesInGamePs:/^(\w|-|_)+$/i,usernamesInGameXbox:/^(.*)+$/i},value:{boolean:!1,default:""},visibility:!0};return Object.entries(elements).forEach(([elementName,element])=>{this.$set(element,"name",elementName),Object.entries(defaults).filter(([e,t])=>!/^\${(.*)}$/.test(t)&&"undefined"===typeof element[e]).forEach(([e,t])=>{"object"!==typeof t?this.$set(element,e,t):this.$set(element,e,Object.keys(t).includes(element.type)?t[element.type]:t.default)}),this.formDataUpdate({element:element}),Object.entries(defaults).filter(([,e])=>/^\${(.*)}$/.test(e)).forEach(([prop,defaultValue])=>{const valueNew=(()=>{var _defaultValue$replace;return"valid"===prop?!element.required||this.validityGet({element:element}):eval((null===(_defaultValue$replace=defaultValue.replace("${","").match(/(.*)(?=})/))||void 0===_defaultValue$replace?void 0:_defaultValue$replace[0])||"")})();this.$set(element,prop,valueNew)})}),elements}};FormMixin=Object(tslib__WEBPACK_IMPORTED_MODULE_6__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_8__["a"])({name:"FormMixin"})],FormMixin),__webpack_exports__["a"]=FormMixin}}]);
//# sourceMappingURL=chunk-3d4d438e.88acf6f5.js.map