{"version":3,"sources":["webpack:///./src/components/messages/MessagesFormAdd.vue?0e31","webpack:///./src/components/messages/MessagesFormAdd.vue","webpack:///./src/components/messages/MessagesFormAdd.vue?3c4d","webpack:///./src/components/messages/MessagesFormAdd.vue?6173","webpack:///./src/components/messages/MessagesFormAdd.vue?f616"],"names":["render","_obj","_vm","this","_h","$createElement","_c","_self","$store","state","userLogged","attrs","hostname","on","$event","preventDefault","submitOn","class","element","errorShow","submitted","length","max","input","domProps","value","blurOn","inputOn","staticClass","_s","texts","form","submit","_e","staticRenderFns","Main","Form","tableName","tabAddClicked","propertiesUpdate","props","target","res","ok","alertType","body","message","alertShow","targetType","valid","$root","$emit","formSubmit","auth","Object","values","elements","forEach","computedPropertiesUpdate","validateRegex","name","required","validLength","test","formData","trim","elementsCreate","type","elementsExtra","addresseeId","undefined","Number","component"],"mappings":"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","file":"js/chunk-2dccebe2.6ca04d12.js","sourcesContent":["var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.state.userLogged.loggedIn)?_c('form',{attrs:{\"action\":(\"https://api.\" + _vm.hostname + \"/messages\"),\"autocomplete\":\"disabled\",\"method\":\"post\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitOn($event)}}},[_c('div',{class:( _obj = {}, _obj[\"error-show\"] = _vm.element.errorShow && _vm.submitted, _obj )},[_c('input',{attrs:{\"maxlength\":_vm.element.length.max,\"type\":_vm.element.input},domProps:{\"value\":_vm.element.value},on:{\"blur\":function($event){return _vm.blurOn({element: _vm.element})},\"input\":_vm.inputOn}})]),_c('button',{staticClass:\"bordered-button\",domProps:{\"innerHTML\":_vm._s(_vm.texts.form.submit)}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {Component, Prop} from 'vue-property-decorator';\nimport {mixins}          from 'vue-class-component';\nimport MainMixin         from '@/mixins/Main';\nimport FormMixin         from '@/mixins/Form';\n// eslint-disable-next-line no-unused-vars\nimport {VueHttpResponse} from '@/plugins/VueHttp';\n\n@Component({\n    name: `MessagesFormAdd`\n})\nexport default class MessagesFormAdd extends mixins(MainMixin, FormMixin)\n{\n    @Prop({type: Number}) public readonly addresseeId!: number;\n    @Prop({required: true, type: Number}) public readonly tabId!: number;\n    @Prop({required: true, type: Object}) public readonly text!: any;\n\n    public inputOn($event: Merge<KeyboardEvent, { target: HTMLInputElement }>): void\n    {\n        this.propertiesUpdate({element: this.element, props: {value: $event.target.value}});\n    }\n\n    public responseOn(res: VueHttpResponse): void\n    {\n        if (!res.ok)\n        {\n            const alertType: string = (() =>\n            {\n                return res.body.message === `Email address not verified` ? `notVerified` : `notAdded`;\n            })();\n\n            this.alertShow({alertType, state: `failed`, targetType: `message`});\n        }\n    }\n\n    public submitOn(): void\n    {\n        this.submitted = true;\n\n        if (!this.valid)\n        {\n            this.computedPropertiesUpdate({element: this.element});\n\n            const {alertType, length, validateRegex} = this.element;\n            this.alertShow({alertType, length, state: `failed`, targetType: `message`, validateRegex});\n            return;\n        }\n\n        this.$root.$emit(`submit`);\n        this.submitted = false;\n\n        this.formSubmit({auth: true});\n        Object.values(this.elements).forEach((element) =>\n        {\n            this.propertiesUpdate({element, props: {value: ``}});\n        });\n    }\n\n    public validityGet({element: {name, required, validateRegex, validLength}}: { element: FormElement }): boolean\n    {\n        return ((validateRegex.test(this.formData[name]) && this.formData[name]?.trim() && required) || (!this.formData[name] && !required)) && validLength;\n    }\n\n    public tableName = `messages`;\n\n    public submitted: boolean = false;\n    public tabAddClicked: boolean = false;\n\n    public get element(): FormElement\n    {\n        return this.elements.message;\n    }\n\n    public created(): void\n    {\n        this.elements = this.elementsCreate({\n            message: {\n                type: `message`\n            }\n        });\n        this.elementsExtra = this.elementsCreate({\n            addresseeId: {\n                required: false,\n                value: this.addresseeId === -1 ? undefined : this.addresseeId\n            }\n        });\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MessagesFormAdd.vue?vue&type=template&id=08877c83&scoped=true&\"\nimport script from \"./MessagesFormAdd.vue?vue&type=script&lang=ts&\"\nexport * from \"./MessagesFormAdd.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MessagesFormAdd.vue?vue&type=style&index=0&id=08877c83&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08877c83\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=style&index=0&id=08877c83&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagesFormAdd.vue?vue&type=style&index=0&id=08877c83&lang=stylus&scoped=true&\""],"sourceRoot":""}